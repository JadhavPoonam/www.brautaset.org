<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Not so philosophically different after all?</title>
<meta name="generator" content="Org mode">
<meta name="author" content="Stig Brautaset">
<link rel="stylesheet" type="text/css" href="/css/main.css" />
<link rel="icon" type="image/png" href="/images/icon.png" />
<script type="text/javascript">
if(/superloopy.io/.test(window.location.hostname)) {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-4113456-6', 'auto');
  ga('send', 'pageview');
}
</script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2017 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>

<div id="org-div-home-and-up">
  <a href="/"><img src="/images/logo.png" alt="Superloopy Logo"/></a>
  <nav>
    <ul>
      <li><a accesskey="H" href="/"> Home </a></li>
      <li><a accesskey="p" href="/publications.html"> Publications </a></li>
      <li><a accesskey="A" href="/about.html"> About </a></li>
      <li><a accesskey="c" href="/contact.html"> Contact </a></li>
      <li>Licence: <a accesskey="l" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a></li>
    </ul>
  </nav>
</div>
<div id="content">
<h1 class="title">Not so philosophically different after all?</h1>
<p>
I found Chris Done's <a href="http://chrisdone.com/posts/haskell-lisp-philosophy-difference">A philosophical difference between Haskell and
Lisp</a> via its <a href="https://lobste.rs/s/mjxvyn/a_philosophical_difference_between_haskell_and_lisp">Lobste.rs' thread</a> and my response ended up blog-post
length so I decided to reproduce it here.
</p>

<p>
Chris opens with:
</p>

<blockquote>
<p>
One difference in philosophy of Lisp (e.g. Common Lisp, Emacs Lisp)
and Haskell is that the latter makes liberal use of many tiny
functions that do one single task. This is known as composability, or
the UNIX philosophy. In Lisp a procedure tends to accept many options
which configure its behaviour. This is known as monolithism, or to
make procedures like a kitchen-sink, or a Swiss-army knife.
</p>
</blockquote>

<p>
Now, I don't know Common Lisp, and not much Emacs Lisp, but his first
example does not hold for Clojure. I don't recognise it at all. For
example, a straight-forward beginner's implementation of this function:
</p>

<blockquote>
<p>
take all elements from the list&#x2013;except the first three&#x2013;that satisfy
predicate p, and take only the first five of those
</p>
</blockquote>

<p>
Would probably look like this:
</p>

<div class="org-src-container">
<pre><code class="src src-clojure">(<span style="color: #00796b;">defn</span> <span style="color: #0097A7;">f</span> [p coll]
  (<span style="color: #B71C1C;">take</span> 5 (<span style="color: #B71C1C;">filter</span> p (<span style="color: #B71C1C;">drop</span> 3 coll))))
</code></pre>
</div>

<p>
However, this would probably be more idiomatic to rewrite it using the
<a href="http://clojure.github.io/clojure/clojure.core-api.html#clojure.core/-%3E%3E"><code>-&gt;&gt;</code></a> macro. This has the benefit that the wording in the spec matches
the code better:
</p>

<div class="org-src-container">
<pre><code class="src src-clojure">(<span style="color: #00796b;">defn</span> <span style="color: #0097A7;">f</span>'[p coll]
  (<span style="color: #00796b;">-&gt;&gt;</span> coll
       (<span style="color: #B71C1C;">drop</span> 3)
       (<span style="color: #B71C1C;">filter</span> p)
       (<span style="color: #B71C1C;">take</span> 5)))
</code></pre>
</div>

<p>
I'm not sure what's going on with the second problem:
</p>

<blockquote>
<p>
get all elements greater than 5, then just the even ones of that set.
</p>
</blockquote>

<p>
It looks to me like <i>neither</i> his lisp nor his Haskell solution works,
as they both get only the even numbers <i>below</i> 5. So, I'll show my
solution to both the stated problem and my implementation of his
examples in Clojure. The stated problem first:
</p>

<div class="org-src-container">
<pre><code class="src src-clojure">(<span style="color: #B71C1C;">filter</span> even? (<span style="color: #B71C1C;">iterate</span> inc 5))
</code></pre>
</div>

<p>
Rewritten with <code>-&gt;&gt;</code>:
</p>

<div class="org-src-container">
<pre><code class="src src-clojure">(<span style="color: #00796b;">-&gt;&gt;</span> (<span style="color: #B71C1C;">iterate</span> inc 5)
     (<span style="color: #B71C1C;">filter</span> even?))
</code></pre>
</div>

<p>
The problem that his code examples solve I would do like this:
</p>

<div class="org-src-container">
<pre><code class="src src-clojure">[2 4]
</code></pre>
</div>

<p>
Ok, that was cheeky, so let's show it with code too:
</p>

<div class="org-src-container">
<pre><code class="src src-clojure">(<span style="color: #B71C1C;">filter</span> even? (<span style="color: #B71C1C;">range</span> 5))
</code></pre>
</div>

<p>
or, if <code>0</code> is not desired:
</p>

<div class="org-src-container">
<pre><code class="src src-clojure">(<span style="color: #B71C1C;">filter</span> even? (<span style="color: #B71C1C;">range</span> 1 5))
</code></pre>
</div>

<p>
Range has a <code>step</code> option too, but I'd hardly call it a kitchen sink
function:
</p>

<pre class="example">
user&gt; (doc range)
-------------------------
clojure.core/range
([] [end] [start end] [start end step])
  Returns a lazy seq of nums from start (inclusive) to end
  (exclusive), by step, where start defaults to 0, step to 1, and end to
  infinity. When step is equal to 0, returns an infinite sequence of
  start. When start is equal to end, returns empty list.
;; =&gt; nil
</pre>

<p>
So we could solve this like this too:
</p>

<div class="org-src-container">
<pre><code class="src src-clojure">(<span style="color: #B71C1C;">range</span> 2 5 2)
</code></pre>
</div>

<p>
Alternatively, if you really want to use 2 functions, we could also
emulate his Haskell solution:
</p>

<div class="org-src-container">
<pre><code class="src src-clojure">(<span style="color: #B71C1C;">take-while</span> even? (<span style="color: #B71C1C;">range</span> 1 5))
</code></pre>
</div>

<p>
As others in the Lobsters thread commented, Scheme also favours small
composable functions. Perhaps all this shows is the problem of trying
to divine a philosophical difference between a single language and
<i>family of languages</i> twice its age <a href="https://en.wikipedia.org/wiki/Lisp_(programming_language)">with over 25 dialects listed on
Wikipedia</a>.
</p>
</div>
<div id="postamble" class="status">
<p class="date">Date: 23 December 2015</p>
<p class="author">Author: Stig Brautaset</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
